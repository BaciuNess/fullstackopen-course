{"version":3,"sources":["components/Filter.js","components/Form.js","components/Person.js","components/Persons.js","components/Notification.js","services/personService.js","App.js","index.js"],"names":["Filter","handleChange","onChange","Form","handleSubmit","handleNameChange","handleNumberChange","onSubmit","type","Person","person","handleDeleteClick","name","number","onClick","id","Persons","persons","searchedWord","filter","toLowerCase","includes","map","key","Notification","message","notificationStyle","color","className","style","baseUrl","axios","get","then","response","data","newObject","post","delete","put","App","useState","setPersons","setSearchedWord","newName","setNewName","newNumber","setNewNumber","notificationMessage","setNotificationMessage","notificationColor","setNotificationColor","useEffect","personService","initialPersons","event","target","value","trim","preventDefault","personObject","some","confirmMessage","window","confirm","personWithSameName","find","returnedPerson","setTimeout","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.791880ee.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({handleChange}) => {\r\n  return (\r\n    <div>\r\n      Filter shown with: <input onChange={handleChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nconst Form = ({handleSubmit, handleNameChange, handleNumberChange}) => {\r\n  return (\r\n    <>\r\n      <form onSubmit={handleSubmit}>\r\n        <div>\r\n          name: <input onChange={handleNameChange} />\r\n        </div>\r\n        <div>\r\n          number: <input onChange={handleNumberChange} />\r\n        </div>\r\n\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import React from 'react';\r\n\r\nconst Person = ({person, handleDeleteClick}) => {\r\n  return (\r\n    <li>\r\n      {person.name} {person.number + ' '}\r\n      <button onClick={() => handleDeleteClick(person.name, person.id)}>\r\n        delete\r\n      </button>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import React from 'react';\r\nimport Person from './Person';\r\n\r\nconst Persons = ({persons, handleDeleteClick, searchedWord}) => {\r\n  return (\r\n    <ul>\r\n      {persons\r\n        .filter(person => person.name.toLowerCase().includes(searchedWord))\r\n        .map(person => (\r\n          <Person\r\n            key={person.id}\r\n            person={person}\r\n            handleDeleteClick={handleDeleteClick}\r\n          />\r\n        ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import React from 'react';\r\n\r\nconst Notification = ({message, color}) => {\r\n  const notificationStyle = {\r\n    color: color,\r\n  };\r\n\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"notification\" style={notificationStyle}>\r\n      {message}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import axios from 'axios';\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst deleteData = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nexport default {getAll, create, deleteData, update};\r\n","import React, {useState, useEffect} from 'react';\n\nimport Filter from './components/Filter';\nimport Form from './components/Form';\nimport Persons from './components/Persons';\nimport Notification from './components/Notification';\nimport personService from './services/personService';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [searchedWord, setSearchedWord] = useState('');\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [notificationMessage, setNotificationMessage] = useState(null);\n  const [notificationColor, setNotificationColor] = useState('');\n\n  useEffect(() => {\n    personService.getAll().then(initialPersons => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const handleDeleteClick = (name, id) => {\n    if (window.confirm(`Delete ${name} ?`)) {\n      personService.deleteData(id).then(data => {\n        setPersons(persons.filter(person => person.id !== id));\n        setNotificationColor('green');\n        setNotificationMessage(`${name} was deleted`);\n        setTimeout(() => {\n          setNotificationMessage(null);\n        }, 5000);\n      });\n    }\n  };\n\n  const addPerson = event => {\n    event.preventDefault();\n\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    };\n\n    const hasSameName = persons.some(person => person.name === newName);\n\n    if (hasSameName) {\n      const confirmMessage = window.confirm(\n        `${newName} is already added to phonebook, replace the old number with a new one?`,\n      );\n      const personWithSameName = persons.find(\n        person => person.name === newName,\n      );\n\n      if (confirmMessage) {\n        personService\n          .update(personWithSameName.id, personObject)\n          .then(returnedPerson => {\n            setPersons(\n              persons.map(person =>\n                person.name === personWithSameName.name\n                  ? returnedPerson\n                  : person,\n              ),\n            );\n            setNotificationColor('green');\n            setNotificationMessage('Updated ' + personObject.name);\n            setTimeout(() => {\n              setNotificationMessage(null);\n            }, 5000);\n          })\n          .catch(error => {\n            setNotificationColor('red');\n            setNotificationMessage(\n              `Information of '${personWithSameName.name}' has been removed from server`,\n            );\n            setTimeout(() => {\n              setNotificationMessage(null);\n            }, 5000);\n            setPersons(\n              persons.filter(person => person.id !== personWithSameName.id),\n            );\n          });\n      }\n    } else\n      personService.create(personObject).then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson));\n        setNotificationColor('green');\n        setNotificationMessage('Added ' + personObject.name);\n        setTimeout(() => {\n          setNotificationMessage(null);\n        }, 5000);\n      });\n  };\n\n  const handleNameChange = event => {\n    setNewName(event.target.value.trim());\n  };\n\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value.trim());\n  };\n\n  const handleFilterChange = event => {\n    const searchedWord = event.target.value.trim().toLowerCase();\n    setSearchedWord(searchedWord);\n  };\n\n  return (\n    <>\n      <h1>Phonebook</h1>\n      <Notification message={notificationMessage} color={notificationColor} />\n      <Filter handleChange={handleFilterChange} />\n\n      <h2>Add a new</h2>\n      <Form\n        handleSubmit={addPerson}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons}\n        searchedWord={searchedWord}\n        handleDeleteClick={handleDeleteClick}\n      />\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}